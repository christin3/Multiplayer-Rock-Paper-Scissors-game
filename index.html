<!DOCTYPE html>
<html>
<head>
    <!--Added firebase-->
    <script src="https://www.gstatic.com/firebasejs/3.3.0/firebase.js"></script>

    <!--Added jQuery-->
    <script src="https://code.jquery.com/jquery-2.2.1.min.js"></script>
    <!-- Latest compiled and minified CSS -->
    <!--Added Bootstrap-->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
          integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <!-- Optional theme -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css"
          integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">
    <!-- Latest compiled and minified JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"
            integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa"
            crossorigin="anonymous"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title></title>
</head>
<body>

<div class="container" align="center">
    <div class="row">
        <div class="banner" align="center"><img src="banner.jpg" width="600" height="250"></div>
        <br>
        <div class="row" align="center">

            <form id="myForm">
                <p>A Ruler Shall Have  Name: </p>
                <input type="text" class="form-control" id="player1name" placeholder="Ruler 1 ">
                <input type="text" class="form-control" id="player2name" placeholder="Ruler 2 ">
                <button id="submitBid" type="submit" class="btn btn-default">Start!</button>
            </form>
            <br>
            <div id="chosenWarrior">
            <h2>Select your chosen warrior.</h2>
        </div>
            </form>
        </div>

        <br>
        <div class="row">
            <div class=".col-xs-4 .col-xs-4   panel panel-default " id="player1" align="center">
                <h3>
                    <span id="playerUno"></span>
                    <span id="chosenOne"></span>
                </h3>
                <br>

                <button type="button" class="btn btn-primary" id="rock1">Rock</button>
                <button type="button" class="btn btn-primary" id="paper1">Paper</button>
                <button type="button" class="btn btn-primary" id="scissors1">Scissors</button>
                <br><br>
                <div><span id="score1"></span></div>


            </div>


            <div class=".col-xs-4 .col-xs-4  panel panel-default game" align="center">


                <span id="gameStatus"> And the winner is..</span>
            </div>


            <div class=".col-xs-4 .col-xs-4  panel panel-default " align="center" id="player2">
                <h3>
                    <span id="playerDos"></span>
                    <span id="chosentwo"></span>
                </h3>


                <button type="button" class="btn btn-primary" id="rock2">Rock</button>
                <button type="button" class="btn btn-primary" id="paper2">Paper</button>
                <button type="button" class="btn btn-primary" id="scissors2">Scissors</button>
                <br><br>
                <div><span id="score2"></span></div>


            </div>
        </div>
    </div>

    <br>
    <!--<div class="row" align="center">-->
        <!--<form>-->
            <!--<div class="panel panel-default" id="textZone">-->
                <!--Comment Field-->
                <!--<br>-->

                <!--<br>-->

                <!--<br>-->

                <!--<input type="text" class="form-control" placeholder="Text Input">-->

                <!--<button type="submit" id="submit" class="btn btn-default">Submit</button>-->

            <!--</div>-->
        <!--</form>-->
    <!--</div>-->
</div>


</div>    <!-- Javascript -->
<script type="text/javascript">


    var config = {
        apiKey: "AIzaSyDb_TvUIkT6tlt8SR63KUEudxIxUPM0qYI",
        authDomain: "rock-paper-scissors-bf211.firebaseapp.com",
        databaseURL: "https://rock-paper-scissors-bf211.firebaseio.com",
        storageBucket: "rock-paper-scissors-bf211.appspot.com",
    };
    firebase.initializeApp(config);

    var database = firebase.database();

    // Declares the tallies to 0
    var wins1 = 0;
    var losses1 = 0;
    var ties1 = 0;

    var wins2 = 0;
    var losses2 = 0;
    var ties2 = 0;
    var player2;
    var player1;
    var player1name;
    var player2name;

    database.ref().on("value", function (snapshot) {
        if (snapshot.child("player1").exists() && snapshot.child("player2").exists()) {
            player1 = snapshot.val().player1;
            player2 = snapshot.val().player2;
            checkWinner();
        }

    });


    $("#submitBid").on("click", function () {
        player1name = $('#player1name').val().trim();
        player2name = $('#player2name').val().trim();

        document.querySelector('#playerUno').innerHTML = player1name;
        document.querySelector('#playerDos').innerHTML = player2name;

        document.getElementById("myForm").reset();

//        database.ref().set({
//            player1: player1,
//            player2: player2
//
//    });
//
//        database.ref('player1').set({
//            name: player1name,
//            player1: player1
//        });
//
//        database.ref('player2').set({
//            name: player2name,
//            player2: player2
//        });
    return false;
    });


    $("#rock1").click(function () {

        $('#chosenOne').html(", you have chosen Rock");
        database.ref("player1").set("r");

        // database.ref("player1").child("selection").set("r");

    });

    $("#paper1").click(function () {

        $('#chosenOne').html(", you have chosen Paper");
        database.ref("player1").set("p");
        //database.ref("player1").child("selection").set("p");

    });

    $("#scissors1").click(function () {
        $('#chosenOne').html(", you have chosen Scissors");
        database.ref("player1").set("s");
        //database.ref("player1").child("selection").set("s");

    });

    $("#rock2").click(function () {
        $('#chosentwo').html(", you have chosen Rock");
        database.ref("player2").set("r");
        //database.ref("player2").child("selection").set("r");

    });

    $("#paper2").click(function () {
        $('#chosentwo').html(", you have chosen Paper");
        database.ref("player2").set("p");
        //database.ref("player2").child("selection").set("p");

    });

    $("#scissors2").click(function () {
        $('#chosentwo').html(", you have chosen Scissors");
        database.ref("player2").set("s");
        //database.ref("player2").child("selection").set("s");

    });


    function checkWinner() {

        if (player1 && player2) {
            if ((player1 == 'r') && (player2 == 's')) {



                $('#gameStatus').html(player1name+" wins with Rock!");


                wins1++;
                losses2++;

            } else if ((player1 == 'r') && (player2 == 'p')) {

                $('#gameStatus').html(player2name+" wins with Paper!");

                losses1++;
                wins2++;

            } else if ((player1 == 's') && (player2 == 'r')) {

                $('#gameStatus').html(player2name+" wins with Rock!");

                losses1++;
                wins2++;

            } else if ((player1 == 's') && (player2 == 'p')) {

                $('#gameStatus').html(player1name+" wins with Scissors!");

                wins1++;
                losses2++;

            } else if ((player1 == 'p') && (player2 == 'r')) {

                $('#gameStatus').html(player1name+" wins with Paper!");

                wins1++;
                losses2++;

            } else if ((player1 == 'p') && (player2 == 's')) {

                $('#gameStatus').html(player2name+" wins with Scissors!");

                losses1++;
                wins2++;

            } else if (player1 == player2) {
                $('#gameStatus').html("It's a Tie!");

                ties1++;
                ties2++;
            }

//            database.ref("player1").child("selection").set(null);
//            database.ref("player2").child("selection").set(null);
            database.ref("player1").set(null);
            database.ref("player2").set(null);
            $('#chosenOne').html("");
            $('#chosentwo').html("");



            var player1score =

                    "<p>wins: " + wins1 + " " + "losses: " + losses1 + " " + "ties: " + ties1 + "</p>";

            document.querySelector('#score1').innerHTML = player1score;


            var player2score =

                    "<p>wins: " + wins2 + " " + "losses: " + losses2 + " " + "ties: " + ties2 + "</p>";

            document.querySelector('#score2').innerHTML = player2score;


        }






    }


</script>

</body>
</html>

<style type="text/css">


    .row {
        width: 600px;

    }

    body {

        background-color: #efece3;

    }

    p {
        font-size: large;
    }

    .game {
        font-size: x-large;
    }

    #player1 {

    }

    #resultArea {

    }

    #player2 {

    }

    .form-group {
        width: 33%;
    }

    #textZone {
        width: 33%;

    }

    .area {

    }

    #textZone {

    }




</style>